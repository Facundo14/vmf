#!/bin/bash
# vmf_example_demo.sh
# Script de demostraciÃ³n de vmf

echo "ğŸš€ DemostraciÃ³n de vmf (Version Manager Flavors)"
echo "================================================="
echo ""

echo "ğŸ“‚ Estructura inicial del proyecto Flutter:"
echo "flutter_project/"
echo "â”œâ”€â”€ pubspec.yaml"
echo "â””â”€â”€ android/app/"
echo "    â”œâ”€â”€ build.gradle.kts  (sin flavors)"
echo "    â””â”€â”€ src/main/"
echo "        â””â”€â”€ AndroidManifest.xml"
echo ""

echo "ğŸ’¡ Paso 1: Instalar vmf"
echo "$ dart pub global activate vmf"
echo ""

echo "ğŸ”§ Paso 2: Inicializar flavors"
echo "$ cd flutter_project"
echo "$ vmf init"
echo ""
echo "Respuestas del ejemplo:"
echo "Â¿CuÃ¡ntos flavors? 2"
echo "Flavor #1: dev"
echo "App name: MyApp Dev"
echo "ApplicationId: com.example.myapp.dev"
echo "Password: devpass123"
echo "Alias: dev_key"
echo ""
echo "Flavor #2: prod"  
echo "App name: MyApp"
echo "ApplicationId: com.example.myapp"
echo "Password: prodpass456"
echo "Alias: prod_key"
echo ""

echo "âœ… Resultado despuÃ©s de vmf init:"
echo "flutter_project/"
echo "â”œâ”€â”€ pubspec.yaml"
echo "â”œâ”€â”€ vmf_config.json           â† âœ¨ Nuevo"
echo "â””â”€â”€ android/app/"
echo "    â”œâ”€â”€ build.gradle.kts      â† âœ… Actualizado con flavors"
echo "    â”œâ”€â”€ build.gradle.kts.bak  â† ğŸ”’ Backup automÃ¡tico"
echo "    â”œâ”€â”€ dev_keystore.jks      â† âœ¨ Generado automÃ¡ticamente"
echo "    â”œâ”€â”€ prod_keystore.jks     â† âœ¨ Generado automÃ¡ticamente"
echo "    â””â”€â”€ src/main/"
echo "        â””â”€â”€ AndroidManifest.xml â† âœ… Usa @string/app_name"
echo ""

echo "ğŸ—ï¸ Paso 3: Build para diferentes flavors"
echo "$ vmf build dev    # Build de desarrollo"
echo "$ vmf build prod   # Build de producciÃ³n"
echo ""

echo "ğŸ“ˆ Paso 4: GestiÃ³n de versiones"
echo "$ vmf version      # 1.0.0+1 â†’ 1.0.1+2"
echo "$ vmf version minor # 1.0.1+2 â†’ 1.1.0+3"
echo "$ vmf version major # 1.1.0+3 â†’ 2.0.0+4"
echo ""

echo "ğŸ¯ Beneficios logrados:"
echo "âœ… ConfiguraciÃ³n Android automatizada"
echo "âœ… Keystores seguros generados automÃ¡ticamente"
echo "âœ… Sin duplicados en build.gradle"
echo "âœ… Backup automÃ¡tico de archivos"
echo "âœ… GestiÃ³n semÃ¡ntica de versiones"
echo "âœ… Builds optimizados con flags de producciÃ³n"
echo ""

echo "ğŸ‰ Â¡Tu proyecto Flutter tiene flavors profesionales!"
echo "Ahora puedes desarrollar con 'dev' y publicar con 'prod' fÃ¡cilmente."
